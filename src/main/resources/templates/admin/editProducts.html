



<form method="post" action="edit-product" enctype="multipart/form-data">
    <div class="modal-header bg-gradient-warning text-white">
        <h5 class="modal-title">‚úèÔ∏è Ch·ªânh s·ª≠a s·∫£n ph·∫©m</h5>
        <button type="button" class="close text-white" data-dismiss="modal">√ó</button>
    </div>

    <div class="modal-body px-4 pt-3 pb-1">
        <input type="hidden" name="id" value="${product.id}" />
        <input type="hidden" name="oldImage" value="${product.image}" />
        <!-- Th√™m tr∆∞·ªùng ·∫©n cho categoryId -->
        <input type="hidden" name="category_id" value="${product.categoryId}" />

        <!-- M√£ s·∫£n ph·∫©m -->
        <div class="form-group">
            <label for="masp" class="font-weight-bold">üî¢ M√£ s·∫£n ph·∫©m</label>
            <input type="text" id="masp" name="masp"
                   class="form-control shadow-sm rounded-pill px-4"
                   value="${product.masp}" required />
        </div>

        <!-- T√™n s·∫£n ph·∫©m -->
        <div class="form-group">
            <label for="name" class="font-weight-bold">üì± T√™n s·∫£n ph·∫©m</label>
            <input type="text" id="name" name="name"
                   class="form-control shadow-sm rounded-pill px-4"
                   value="${product.name}" required />
        </div>

        <!-- Gi√° -->
        <div class="form-group">
            <label for="price" class="font-weight-bold">üí≤ Gi√°</label>
            <input type="number" id="price" name="price" min="0" step="0.01"
                   class="form-control shadow-sm rounded-pill px-4"
                   value="${product.price}" required />
        </div>

        <!-- S·ªë l∆∞·ª£ng -->
        <div class="form-group">
            <label for="quantity" class="font-weight-bold">üì¶ S·ªë l∆∞·ª£ng</label>
            <input type="number" id="quantity" name="quantity" min="0"
                   class="form-control shadow-sm rounded-pill px-4"
                   value="${product.quantity}" required />
        </div>

        <!-- M√¥ t·∫£ -->
        <div class="form-group">
            <label for="description" class="font-weight-bold">üìù M√¥ t·∫£</label>
            <textarea id="description" name="description"
                      class="form-control shadow-sm rounded px-3"
                      rows="3" placeholder="M√¥ t·∫£ s·∫£n ph·∫©m...">${product.description}</textarea>
        </div>

        <!-- ·∫¢nh hi·ªán t·∫°i -->
        <div class="form-group">
            <label class="font-weight-bold">üñºÔ∏è ·∫¢nh hi·ªán t·∫°i</label><br>
            <c:choose>
                <c:when test="${not empty product.image}">
                    <img src="${pageContext.request.contextPath}/image?file=${fn:substringAfter(product.image, 'image\\')}"
                         alt="${product.name}" class="img-thumbnail mb-2" style="width: 200px; height: auto;">
                </c:when>
                <c:otherwise>
                    <p><i>Kh√¥ng c√≥ ·∫£nh</i></p>
                </c:otherwise>
            </c:choose>
        </div>

        <!-- ·∫¢nh m·ªõi -->
        <div class="form-group">
            <label for="image" class="font-weight-bold">üì§ Ch·ªçn ·∫£nh m·ªõi (n·∫øu mu·ªën thay)</label>
            <input type="file" id="image" name="image"
                   class="form-control-file" />
            <small class="form-text text-muted">B·ªè tr·ªëng n·∫øu kh√¥ng thay ƒë·ªïi ·∫£nh.</small>
        </div>

        <!-- N√∫t -->
        <div class="modal-footer border-0 px-0 pt-3">
            <button type="submit" class="btn btn-warning rounded-pill px-4 text-white">
                <i class="fas fa-save"></i> L∆∞u thay ƒë·ªïi
            </button>
            <button type="button" class="btn btn-outline-secondary rounded-pill px-4" data-dismiss="modal">
                <i class="fas fa-times-circle"></i> H·ªßy
            </button>
        </div>
    </div>
</form>